<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HSBC Wealth AI - Compliance Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="./css/hsbc.css" rel="stylesheet" />
  <link href="./css/compliance.css" rel="stylesheet" />

  <style>
    body {
      font-family: 'Open Sans', sans-serif;
    }

    .hsbc-red {
      color: #db0011;
    }

    .bg-hsbc-red {
      background-color: #db0011;
    }
  </style>
</head>

<body class="bg-gray-50">

  <div class="min-h-screen">

    <header class="header fixed" role="banner">
      <div class="header__content">
        <a href="./index.html" class="logo empty" aria-label="Go to home page" title="Home">
          <img src="./assets/hsbc-logo-200x25.svg?la=en-GB&amp;h=25&amp;hash=EFB19274CD17649AE659D3351B595180"
            alt="HSBC logo" height="25">
        </a>
        <nav role="navigation" aria-label="Main Navigation" class="nav__wrapper" data-nav="wrapper" id="nav__wrapper">
          <ul class="nav font-size-smaller" data-nav="nav" itemscope=""
            itemtype="http://www.schema.org/SiteNavigationElement">

            <li class="nav__item" itemprop="name" content="Compliance Dashboard">
              <!-- data-href added to allow navigation without changing button styles -->
              <button class="nav__link" itemprop="url" aria-expanded="false" aria-current="true">
                <span>Compliance Dashboard</span>
                <span class="hsbc-right-chevron" aria-hidden="true"></span>
              </button>

            </li>
          </ul>
        </nav>

      </div>
    </header>
    <!-- banner start -->
    <div class="sublayout full-bleed-sublayout crop-400">
      <div class="hero-banner" data-component="HeroBanner">
        <div
          class="hero-banner__inner-container hero-banner--size-large hero-banner--background-dark-grey hero-banner--dark-block-opacity-40">
          <div class="hero-banner__media-container ">

            <div class="image-with-links">
              <div class="image-with-links__image-container">
                <picture>
                  <source media="(max-width:768px)" srcset="./assets/investing-in-hsbc-768x432.jpg">
                  <source srcset="./assets/investing-in-hsbc-1600x400.jpg">
                  <img src="./assets/investing-in-hsbc-1600x400.jpg"
                    class="image-with-links__image image-with-links__image--without-media-info no-zoom" alt=""
                    style="width: auto">
                </picture>

              </div>
            </div>
          </div>
          <div class="hero-banner--alignment-left">
            <div class="hero-banner-fluid">
              <div class="container-fluid">
                <div class="hero-banner__body">
                  <div class="row">
                    <div class="hero-banner__responsive-body">
                      <div class="hero-banner__content-container">
                        <div class="hero-banner__content">
                          <h1 class="h5 hero-banner__category">AI Conversation Monitoring & Audit
                          </h1>
                          <p class="hero-banner__title h1">Compliance Dashboard</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- banner end -->
    <!-- Main Content -->

    <div class="flex-1 overflow-y-auto bg-[#f6f6f6]">
      <main class="max-w-[1400px] mx-auto p-6 pb-32">
        <div class="grid grid-cols-1 gap-6">
          <div class="hsbc-card lg:col-span-2">
            <div class="hsbc-header-border pb-3 mb-5 flex justify-between items-center">
              <h3>Real-time Monitoring</h3>
              <span class="text-gray-500" id="current-date"></span>
            </div>

            <div class="space-y-4 grid grid-cols-2 md:grid-cols-4 gap-4">
              <div id="copilot-alert-card"
                class="bg-white border-l-[6px] border-success shadow-sm p-6 pt-0 pb-10 mb-8 flex flex-col md:flex-row gap-6 items-start">
                <div>
                  <div class="flex items-center gap-3 mb-2">
                    <h3 class="text-[#2d2d2d]">1,247</h3>
                  </div>
                  <p>
                    Total Requests
                  </p>
                  <p class="text-success"><i class="fas fa-arrow-up"></i> +8.2% vs yesterday</p>
                </div>
              </div>
              <div id="copilot-alert-card"
                class="bg-white border-l-[6px] border-warning shadow-sm p-6 pt-0 pb-10 mb-8 flex flex-col md:flex-row gap-6 items-start">
                <div>
                  <div class="flex items-center gap-3 mb-2">
                    <h3 class="text-[#2d2d2d]">12</h3>
                  </div>
                  <p>
                    Blocked Requests
                  </p>
                  <p class="text-warning">0.96% block rate</p>
                </div>
              </div>
              <div id="copilot-alert-card"
                class="bg-white border-l-[6px] border-danger shadow-sm p-6 pt-0 pb-10 mb-8 flex flex-col md:flex-row gap-6 items-start">
                <div>
                  <div class="flex items-center gap-3 mb-2">
                    <h3 class="text-[#2d2d2d]">3</h3>
                  </div>
                  <p>
                    High Risk
                  </p>
                  <p class="text-danger">Requires review</p>
                </div>
              </div>
              <div id="copilot-alert-card"
                class="bg-white border-l-[6px] border-primary shadow-sm p-6 pt-0 pb-10 mb-8 flex flex-col md:flex-row gap-6 items-start">
                <div>
                  <div class="flex items-center gap-3 mb-2">
                    <h3 class="text-[#2d2d2d]">1</h3>
                  </div>
                  <p>
                    Critical Risk
                  </p>
                  <p class="text-primary">Immediate action needed</p>
                </div>
              </div>
            </div>
          </div>

          <div class="hsbc-card lg:col-span-2">
            <div class="hsbc-header-border pb-3 mb-4">
              <h3 class="text-[#2d2d2d]">Recent Violations (Last 24h)</h3>
            </div>
            <div class="space-y-4">
              <div id="violations-list" class="divide-y divide-gray-200">
                <!-- Violations will be rendered here by JavaScript -->
              </div>
            </div>
          </div>

          <div class="hsbc-card lg:col-span-2">
            <div class="pb-3 mb-4 flex justify-between">
              <h3 class="text-[#2d2d2d]">Compliance Rules(6 Active)</h3>
            </div>
            <table class="table dataTable">
              <thead></thead>
              <tbody id="rules-list">

              </tbody>
            </table>
          </div>
        </div>

      </main>
    </div>
  </div>

  <script>
    // Violation Cases Data
    const violations = [
      {
        id: 1,
        customer: 'Emily Thompson',
        role: 'Relationship Manager',
        roleColor: 'danger',
        time: '09:23 AM',
        ruleId: 'R005',
        ruleName: 'High Leverage Product Promotion',
        riskLevel: 'Critical',
        riskColor: 'primary',
        question: 'Can I recommend 10x leveraged crypto ETFs to my conservative clients to boost my commission? They don\'t need to know the full risks.',
        aiResponse: 'I cannot assist with recommending unsuitable products to clients. All product recommendations must align with client risk profiles and comply with suitability requirements.\n\nMisleading clients or prioritizing commission over their interests violates regulatory standards.\n\n[This conversation has been flagged and escalated to compliance]',
        action: 'Blocked + Flagged + Notified Compliance Officer + RM Account Suspended'
      },
      {
        id: 2,
        customer: 'Raj Patel',
        role: 'Relationship Manager',
        roleColor: 'danger',
        time: '08:45 AM',
        ruleId: 'R004',
        ruleName: 'Insider Trading',
        riskLevel: 'High',
        riskColor: 'warning',
        question: 'I just heard from a client who works at TechCorp that they\'re announcing a merger next week. Should I buy their stock now before the news goes public?',
        aiResponse: 'I cannot provide guidance on trading based on material non-public information. This constitutes insider trading, which is illegal and strictly prohibited.\n\nAny such activity will be reported to regulatory authorities.\n\n[This conversation has been logged and compliance has been notified]',
        action: 'Blocked + Logged + Notified Compliance Officer + Legal Review Initiated'
      },
      {
        id: 3,
        customer: 'Mike Wang',
        role: 'Customer',
        roleColor: 'success',
        time: '07:12 AM',
        ruleId: 'R002',
        ruleName: 'Money Laundering / Tax Evasion',
        riskLevel: 'Critical',
        riskColor: 'primary',
        question: 'How can I transfer assets through Cayman Islands offshore accounts to avoid domestic tax audits?',
        aiResponse: 'I cannot provide advice on tax evasion or asset concealment. HSBC strictly adheres to Anti-Money Laundering (AML) and tax compliance requirements.\n\nFor legitimate tax planning services, please schedule an appointment with our wealth planning advisors.\n\n[This conversation has been logged and escalated]',
        action: 'Blocked + AI Service Suspended + Manual Review Required'
      }
    ];

    // Compliance Rules Data
    const rules = [
      { id: 'R001', name: 'Sanctioned Countries Investment', description: 'Block investment inquiries related to sanctioned nations', triggers: 8 },
      { id: 'R002', name: 'Money Laundering / Tax Evasion', description: 'Detect and block AML and tax evasion attempts', triggers: 3 },
      { id: 'R003', name: 'Customs Evasion', description: 'Block advice on evading customs regulations', triggers: 0 },
      { id: 'R004', name: 'Insider Trading', description: 'Prevent insider trading related inquiries', triggers: 1 },
      { id: 'R005', name: 'High Leverage Product Promotion', description: 'Restrict high-risk product recommendations', triggers: 1 },
      { id: 'R006', name: 'Minor Investment', description: 'Block investment services for underage clients', triggers: 0 }
    ];

    // Render Violations
    function renderViolations() {
      const container = document.getElementById('violations-list');
      container.innerHTML = violations.map(v => `
                <div class="p-5 border border-gray-200 hover:border-gray-400 transition-colors transition cursor-pointer mb-5" onclick="toggleDetails(${v.id})">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <strong class=" text-gray-900">${v.customer}</strong>
                            <span class="px-2 py-0.5 bg-${v.roleColor} text-${v.roleColor} rounded ml-2">${v.role}</span>
                            <span class="text-gray-400 ml-2">${v.time}</span>
                        </div>
                        <div class="px-3 py-1 bg-${v.riskColor} text-${v.riskColor}">
                            ${v.riskLevel}
                        </div>
                    </div>
                    <div class="flex items-center gap-2 text-gray-600 mb-2">
                        <span class="font-medium">${v.ruleId}</span>
                        <span class="text-gray-400">•</span>
                        <span>${v.ruleName}</span>
                    </div>
                    <div class="bg-gray-100 p-3 text-gray-700 mb-2">
                        "${v.question}"
                    </div>
                    <div id="details-${v.id}" class="hidden mt-4 space-y-3 border-t border-gray-200 pt-4">
                        <div>
                            <div class=" text-gray-500 uppercase mb-2">AI Response</div>
                            <div class=" bg-danger p-3 text-gray-700 whitespace-pre-line">${v.aiResponse}
                            </div>
                        </div>
                        <div>
                            <div class=" text-gray-500 uppercase mb-2">Action Taken</div>
                            <div class= text-gray-700">${v.action}</div>
                        </div>
                        
                    </div>
                    <div class="flex justify-between items-center mt-4 items-end">
                      <button class="btn-link mt-2 transition">
                        <span id="toggle-text-${v.id}">View Full Conversation →</span>
                    </button>
                      <div class="flex gap-2 btn-group">
                            <button class="px-3 py-1.5 border border-gray-300 text-gray-700  hover:bg-gray-50 transition ">
                                <i class="fas fa-user-shield mr-1"></i> Contact User
                            </button>
                            <button class="px-3 py-1.5 border border-gray-300 text-gray-700  hover:bg-gray-50 transition">
                                <i class="fas fa-file-export mr-1"></i> Export Case
                            </button>
                        </div>
                    </div>
                    

                </div>
            `).join('');
    }

    // Render Rules
    function renderRules() {
      const container = document.getElementById('rules-list');
      container.innerHTML = rules.map(r => `
        <tr>
          <td>${r.id}</td>
          <td>
            <div>
              <div class="font-medium text-gray-900">${r.name}</div>
              <div class=" text-gray-500">${r.description}</div>
            </div>
          </td>
          <td>
            <span class="text-gray-500">Triggered:  
              <strong class="font-bold">${r.triggers}x</strong>
            </span>
          </td>
          <td>
            <span class="text-success font-medium flex items-center gap-1">
              <i class="fas fa-check-circle"></i>
              Active
            </span>
          </td>
        </tr>
      `).join('');
    }

    // Toggle Details
    function toggleDetails(id) {
      const details = document.getElementById(`details-${id}`);
      const toggleText = document.getElementById(`toggle-text-${id}`);

      if (details.classList.contains('hidden')) {
        details.classList.remove('hidden');
        toggleText.textContent = 'Hide Details ↑';
      } else {
        details.classList.add('hidden');
        toggleText.textContent = 'View Full Conversation →';
      }
    }

    // Get Current Date
    function getCurrentDate() {
      const today = new Date();
      const options = { year: 'numeric', month: 'short', day: 'numeric' };
      return today.toLocaleDateString('en-US', options);
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('current-date').textContent = getCurrentDate();
      renderViolations();
      renderRules();
    });
  </script>

</body>

</html>